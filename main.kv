WindowManager:
    DepartureWindow:
    ArrivalWindow:
    GenderSelection:
    MainFirstWindow:
    ErrorScreen:
    HelpScreen:


<DepartureWindow>:
    canvas.before:
        Color:
            rgba: 0/255.0, 35/255.0, 94/255.0, 1
        Rectangle:
            pos: self.pos
            size: self.size


    GridLayout:
        cols:1

        padding: 10
        spacing: 10

        GridLayout:
            cols:2

            TextInput:
                halign: 'center'
                height: 30
                multiline: False
                id: dpRoomNumberInput
                multiline: False

            Button:
                text: "Submit Current \nRoom Number"
                on_release:
                    root.dp_roomsubmit()
                    app.root.current = "arrival"
                    dpRoomNumberInput.text = ''
                background_color: (0,0,0,0)
                background_normal: ''
                canvas.before:
                    Color:
                        rgba: (186/255.0, 34/255.0, 41/255.0, 1)
                    RoundedRectangle:
                        size: self.size
                        pos: self.pos
                        radius: [80]

        GridLayout:
            cols:2

            RoundedButton1:
                text: "Dining Hall"
                on_release:
                    root.dp_quickroomsubmit("Dining Hall")
                    app.root.current = "arrival"
            
            RoundedButton1:
                text: "Sixth Form \nCommon Room"
                on_release:
                    root.dp_quickroomsubmit("Sixth Form Common Room")
                    app.root.current = "arrival"

        GridLayout:
            cols:2

            RoundedButton1:
                text: "Staff Room"
                on_release:
                    root.dp_quickroomsubmit("Staff Room")
                    app.root.current = "arrival"

            RoundedButton1:
                text: "Fred's Office"
                on_release:
                    root.dp_quickroomsubmit("Fred's Office")
                    app.root.current = "arrival"

        GridLayout:
            cols:2

            RoundedButton1:
                text: "Nearest Toilet"
                on_release:
                    app.root.current = "gender"

            RoundedButton1:
                text: "Picture Gallery"
                on_release:
                    root.dp_quickroomsubmit("Picture Gallery")
                    app.root.current = "arrival"

        GridLayout:
            cols:2

            RoundedButton1:
                text: "Reception"
                on_release:
                    root.dp_quickroomsubmit("Reception")
                    app.root.current = "arrival"

            Button:
                background_color: (0,0,0,0)
                background_normal: ''
                canvas.before:
                    Color:
                        rgba: (47/255.0, 70/255.0, 145/255.0, 1)
                    RoundedRectangle:
                        size: self.size
                        pos: self.pos
                        radius: [80]

                text: "Help Page"
                on_release:
                    app.root.current = "help"


<ArrivalWindow>:
    canvas.before:
        Color:
            rgba: 190/255.0, 159/255.0, 84/255.0, 1
        Rectangle:
            pos: self.pos
            size: self.size

    GridLayout:
        cols:1
        padding: 20
        spacing: 10

        GridLayout:
            cols:2

            TextInput:
                id: arRoomNumberInput
                multiline: False

            Button:
                text: "Submit Desired \nRoom Number"
                on_release:
                    root.ar_roomsubmit()
                    app.root.current = "map"
                    arRoomNumberInput.text = ''

                background_color: (0,0,0,0)
                background_normal: ''
                canvas.before:
                    Color:
                        rgba: (186/255.0, 34/255.0, 41/255.0, 1)
                    RoundedRectangle:
                        size: self.size
                        pos: self.pos
                        radius: [80]

        GridLayout:
            cols:2

            RoundedButton2:
                text: "Dining Hall"
                on_release:
                    root.ar_quickroomsubmit("Dining Hall")
                    app.root.current = "map"
            
            RoundedButton2:
                text: "Sixth Form \nCommon Room"
                on_release:
                    root.ar_quickroomsubmit("Sixth Form Common Room")
                    app.root.current = "map"

        GridLayout:
            cols:2

            RoundedButton2:
                text: "Staff Room"
                on_release:
                    root.ar_quickroomsubmit("Staff Room")
                    app.root.current = "map"

            RoundedButton2:
                text: "Fred's Office"
                on_release:
                    root.ar_quickroomsubmit("Fred's Office")
                    app.root.current = "map"

        GridLayout:
            cols:2

            RoundedButton2:
                text: "Nearest Toilet"
                on_release:
                    app.root.current = "gender"

            RoundedButton2:
                text: "Picture Gallery"
                on_release:
                    root.ar_quickroomsubmit("Picture Gallery")
                    app.root.current = "map"

        GridLayout:
            cols:2

            RoundedButton2:
                text: "Reception"
                on_release:
                    root.ar_quickroomsubmit("Reception")
                    app.root.current = "map"

            Button:
                background_color: (0,0,0,0)
                background_normal: ''
                canvas.before:
                    Color:
                        rgba: (91/255.0, 103/255.0, 109/255.0, 1)
                    RoundedRectangle:
                        size: self.size
                        pos: self.pos
                        radius: [80]
                text: "Go Back"
                on_release:
                    app.root.current = "departure"


<GenderSelection>:
    GridLayout:
        rows:3

        RoundedButton1:
            text: "Male Toilet"
            on_release:
                app.root.current = "departure"

        RoundedButton1:
            text: "Female Toilet"
            on_release:
                app.root.current = "departure"

        RoundedButton1:
            text: "Unisex Toilet"
            on_release:
                app.root.current = "departure"



<MainFirstWindow>:
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size


    Button:
        id: go_forwards
        background_color: (190/255.0, 159/255.0, 84/255.0, 1)
        pos_hint: {'x':0, 'y': 0}
        size_hint: 0.5,0.1
        text: "Next"
        on_release:
            root.drawLines()

    Button:
        id: go_backwards
        background_color: (0/255.0, 35/255.0, 94/255.0, 1)
        pos_hint: {'x':0.5, 'y': 0}
        size_hint: 0.5,0.1
        size_hint: 0.5,0.1
        text: "Back"
        on_release:
            root.backwards()


<ErrorScreen>:
    canvas.before:
        Color:
            rgba: 1, 0, 0, 1
        Rectangle:
            pos: self.pos
            size: self.size

    Button:
        background_color: (0,0,0,0)
        background_normal: ''
        canvas.before:
            Color:
                rgba: (47/255.0, 70/255.0, 145/255.0, 1)
            RoundedRectangle:
                size: self.size
                pos: self.pos
                radius: [80]
        text: "Go back"
        on_release:
            app.root.current = "departure"
    

<HelpScreen>:


<RoundedButton1@Button>:
    background_color: (0,0,0,0)
    background_normal: ''
    canvas.before:
        Color:
            rgba: (190/255.0, 159/255.0, 84/255.0, 1)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [80]


<RoundedButton2@Button>:
    background_color: (0,0,0,0)
    background_normal: ''
    canvas.before:
        Color:
            rgba: (0/255.0, 35/255.0, 94/255.0, 1)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [80]
